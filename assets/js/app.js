$(function(a){"use strict";var t=window._dg||{};t.scrolls=function(){a.fn.nextOrFirst=function(a){var t=this.next(a);return t.length?t:this.prevAll(a).last()},a('[data-scroll="next"]').on("click",function(t){t.preventDefault(),a.scrollTo(a(this).closest("section").next(),{axis:"y",offset:0,duration:600})}),a('[data-scroll="hash"]').on("click",function(t){if(t.preventDefault(),a(this).attr("data-offset"))var e=a(this).data("offset");else var e=0;a.scrollTo(this.hash,{axis:"y",offset:e,duration:600})}),a('[data-scroll="top"]').click(function(){return a("html, body").animate({scrollTop:0}),!1}),a(window).on("load scroll",function(){var t=a(this),e=a("main"),s=a(document).height(),o=(e.outerHeight(),a("#aspot").outerHeight());t.scrollTop()>o?a("body").addClass("in-main"):a("body").removeClass("in-main"),t.scrollTop()>s/2?a("body").addClass("in-mid"):a("body").removeClass("in-mid"),t.scrollTop()>0?a("body").addClass("has-scrolled"):a("body").removeClass("has-scrolled")})},t.toggleNav=function(){a('[data-toggle="menu"]').on("click",function(t){t.preventDefault(),a("nav.main-menu").toggleClass("show-menu"),a("body").toggleClass("js-no-scroll")});var t=0,e="down",s="up";a(window).scroll(function(){a(this).scrollTop()>t?(e="down",e!=s&&(a(".is-default .main-menu").addClass("going-up"),a(".main-menu").removeClass("going-up").removeClass("at-top"),a(".main-menu").addClass("going-down"),s=e)):(e="up",e!=s&&(a(".main-menu").removeClass("going-down"),a(".main-menu").addClass("going-up"),s=e)),t=a(this).scrollTop(),a(this).scrollTop()<=0&&a(".main-menu").removeClass("going-up").removeClass("going-down").addClass("at-top")})},t.preloadBgs=function(){function t(){if(!a(".set-bg")[0])return!1;var t=new Image;a(t).load(function(){a(".set-bg").addClass("bg-loaded")}).attr("src",a(".set-bg").data("bg"))}a(".set-bg").each(function(){a(this).css({"background-image":"url("+a(this).data("bg")+")"})}),t()},t.aSpots=function(){var t=a(window).height(),e=a("#aspot").height();a('#aspot[data-height="half"]').css("height",e+"px"),a('#aspot[data-height="full"]').css("height",t+"px");var t=a(window).height(),s=a(window).width();s>=840&&a(window).bind("resize",function(){t=a(window).height(),a('#aspot[data-height="full"]').css("height",t+"px")})},t.slick=function(){a("[data-slick]").slick({lazyLoad:"progressive",fade:!0,speed:400,cssEase:"linear",responsive:[{breakpoint:768,settings:{fade:!1,speed:300}}]})},t.fluidbox=function(){a("a[href$='.jpg']").each(function(){a(this).find("img").length>0&&a(this).addClass("isfluid")}),a(".isfluid").fluidbox({closeTrigger:[{selector:"window",event:"scroll"}]})};new Blazy({offset:600,breakpoints:[{width:600,src:"data-src-small"},{width:1200,src:"data-src-medium"}]});a(function(){t.scrolls(),t.toggleNav(),t.preloadBgs(),t.aSpots(),t.slick(),t.fluidbox()})});
